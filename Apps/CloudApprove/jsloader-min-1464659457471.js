var jsLoader={fileVersion:"20160912",isDebug:function(){var e=jsLoader.getAppUrl();return-1==e.toLowerCase().indexOf("//ys.yyuap.com") && -1==e.toLowerCase().indexOf("//123.103.9.205")},getArgs:function(){for(var e=new Object,s=location.search.substring(1),r=s.split("&"),a=0;a<r.length;a++){var o=r[a].indexOf("=");if(-1!=o){var n=r[a].substring(0,o),t=r[a].substring(o+1);e[n]=unescape(t)}}return e},getVer:function(){var e=jsLoader.getArgs(),s=e.ver;return s?s:jsLoader.fileVersion},loadTwoJs:function(e,s,r){console.debug("loadTwoJs.js1="+e+",js2="+s),jsLoader.isDebug()||"app"!=e?jsLoader.loadOneJs(e,"jsLoader.loadOneJs",[s,r||[]]):jsLoader.loadOneJs("app-"+s,r)},loadOneJs:function(e,s,r){-1==e.toLowerCase().indexOf("//")&&(e=-1!=e.indexOf("/")?"./"+e+".js?ver="+jsLoader.getVer():jsLoader.isDebug()?"./"+e+".js?ver="+jsLoader.getVer()+"&r="+Math.random():jsLoader.getAppUrl()+"/static/js/min/"+e+"-min.js?ver="+jsLoader.getVer()),console.debug("loadOneJs.jsFile="+e),$.ajax({url:e,dataType:"script",cache:!1,success:function(){console.debug("js文件载入成功."+e+",callback="+s+",callbackArgs="+r),s&&"undefined"!=s?(console.debug("loadOneJs success,jsFile="+e),jsLoader.doCallback(s,r)):console.debug("loadOneJs success.no successfunc,jsFile="+e)},error:function(s,r,a){console.error("load js error."+e+".textStatus="+r+",err="+a)}})},loadCss:function(e,s,r){-1==e.toLowerCase().indexOf("//")&&(e=-1!=e.indexOf("/")?jsLoader.getAppUrl()+"/static/"+e+".css?ver="+jsLoader.getVer():jsLoader.getAppUrl()+"/static/css/"+e+".css?ver="+jsLoader.getVer()+"&r="+Math.random()),console.debug("loadCss.cssFile="+e),$.ajax({url:e,dataType:"text",cache:!1,success:function(a){$('<style rel="stylesheet" type="text/css">'+a+"</style>").appendTo("head"),s?(console.debug("loadCss success,cssFile="+e),jsLoader.doCallback(s,r)):console.debug("loadCss success.no successfunc,cssFile="+e)},error:function(e,s,r){console.error("load css error."+jsFile+".textStatus="+s+",err="+r)}})},getAppUrl:function(){var e=location.href,s=e.indexOf("/static/");-1==s&&(s=e.indexOf("/form/"));var r=e.substring(0,s);return r},doCallback:function(fnOrfnName,args){if(""!=fnOrfnName&&void 0!=fnOrfnName){var fn=$.isFunction(fnOrfnName)?fnOrfnName:eval(fnOrfnName);return args?$.isArray(args)?fn.apply(this,args):fn.apply(this,[args]):fn.apply(this,[event])}}};